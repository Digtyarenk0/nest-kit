{"version":3,"sources":["../../src/app/app.module.ts"],"sourcesContent":["import { BullModule } from '@nestjs/bull';\nimport { CacheModule } from '@nestjs/cache-manager';\nimport { Module } from '@nestjs/common';\nimport { ConfigModule } from '@nestjs/config';\nimport { ScheduleModule } from '@nestjs/schedule';\n\nimport * as redisStore from 'cache-manager-redis-store';\nimport AppConfig from 'config/envs';\nimport { LoggerModule } from 'nestjs-pino';\n\nimport configuration from 'config/configuration';\nimport { InitModule } from './init/init.module';\n\nconst configImports = [\n  ScheduleModule.forRoot(),\n  ConfigModule.forRoot({\n    isGlobal: true,\n    load: [configuration, AppConfig],\n  }),\n  CacheModule.register({\n    isGlobal: true,\n    store: redisStore,\n    url: process.env.REDIS_URL,\n    password: process.env.REDIS_PASSWORD,\n  }),\n  BullModule.forRoot({\n    url: process.env.REDIS_URL,\n    redis: {\n      password: process.env.REDIS_PASSWORD,\n    },\n  }),\n  // TypeOrmModule.forRoot({\n  //   type: 'postgres',\n  //   host: process.env.POSTGRES_HOST,\n  //   port: Number(process.env.POSTGRES_PORT),\n  //   username: process.env.POSTGRES_USER,\n  //   password: process.env.POSTGRES_PASSWORD,\n  //   database: process.env.POSTGRES_DB,\n  //   entities: getMetadataArgsStorage().tables.map((tbl) => tbl.target),\n  //   synchronize: true,\n  // }),\n];\n\nprocess.env.LOGS === 'true' && configImports.push(LoggerModule.forRoot());\n\n@Module({\n  imports: [...configImports, InitModule],\n})\nexport class AppModule {}\n"],"names":["AppModule","configImports","ScheduleModule","forRoot","ConfigModule","isGlobal","load","configuration","AppConfig","CacheModule","register","store","redisStore","url","process","env","REDIS_URL","password","REDIS_PASSWORD","BullModule","redis","LOGS","push","LoggerModule","Module","imports","InitModule"],"mappings":";;;;+BAgDaA;;;eAAAA;;;sBAhDc;8BACC;wBACL;wBACM;0BACE;gFAEH;6DACN;4BACO;sEAEH;4BACC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE3B,MAAMC,gBAAgB;IACpBC,wBAAc,CAACC,OAAO;IACtBC,oBAAY,CAACD,OAAO,CAAC;QACnBE,UAAU;QACVC,MAAM;YAACC,sBAAa;YAAEC,aAAS;SAAC;IAClC;IACAC,yBAAW,CAACC,QAAQ,CAAC;QACnBL,UAAU;QACVM,OAAOC;QACPC,KAAKC,QAAQC,GAAG,CAACC,SAAS;QAC1BC,UAAUH,QAAQC,GAAG,CAACG,cAAc;IACtC;IACAC,gBAAU,CAAChB,OAAO,CAAC;QACjBU,KAAKC,QAAQC,GAAG,CAACC,SAAS;QAC1BI,OAAO;YACLH,UAAUH,QAAQC,GAAG,CAACG,cAAc;QACtC;IACF;CAWD;AAEDJ,QAAQC,GAAG,CAACM,IAAI,KAAK,UAAUpB,cAAcqB,IAAI,CAACC,wBAAY,CAACpB,OAAO;AAK/D,IAAA,AAAMH,YAAN,MAAMA;AAAW;AAAXA;IAHZwB,IAAAA,cAAM,EAAC;QACNC,SAAS;eAAIxB;YAAeyB,sBAAU;SAAC;IACzC;GACa1B"}