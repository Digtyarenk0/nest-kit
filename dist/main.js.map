{"version":3,"sources":["../src/main.ts"],"sourcesContent":["import {\n  NestApplicationOptions,\n  Logger as NestLogger,\n  ValidationPipe,\n} from '@nestjs/common';\nimport { ConfigService } from '@nestjs/config';\nimport { NestFactory } from '@nestjs/core';\n\nimport cookieParser from 'cookie-parser';\nimport { Logger } from 'nestjs-pino';\n\nimport { AppModule } from 'app/app.module';\n\nimport { Swagger } from './swagger';\n\nasync function bootstrap() {\n  const appModuleParams: NestApplicationOptions = {\n    bufferLogs: true,\n  };\n\n  const app = await NestFactory.create(AppModule, appModuleParams);\n\n  Swagger.init(app);\n\n  const configService = app.get(ConfigService);\n  app.useGlobalPipes(new ValidationPipe());\n  app.use(cookieParser());\n  app.enableCors({\n    origin: configService.get<string>('frontDomain'),\n    credentials: true,\n  });\n\n  NestLogger.log(`App logs: ${configService.get('logs')}`, 'Config');\n  if (configService.get('logs')) {\n    app.useLogger(app.get(Logger));\n  }\n\n  await app.listen(configService.get('port'), () => {\n    console.log(`Server started on port: ${configService.get('port')}`);\n    console.log(`Swagger: ${configService.get('port')}/swagger`);\n  });\n}\nbootstrap();\n"],"names":["bootstrap","appModuleParams","bufferLogs","app","NestFactory","create","AppModule","Swagger","init","configService","get","ConfigService","useGlobalPipes","ValidationPipe","use","cookieParser","enableCors","origin","credentials","NestLogger","log","useLogger","Logger","listen","console"],"mappings":";;;;wBAIO;wBACuB;sBACF;qEAEH;4BACF;2BAEG;yBAEF;;;;;;AAExB,eAAeA;IACb,MAAMC,kBAA0C;QAC9CC,YAAY;IACd;IAEA,MAAMC,MAAM,MAAMC,iBAAW,CAACC,MAAM,CAACC,oBAAS,EAAEL;IAEhDM,gBAAO,CAACC,IAAI,CAACL;IAEb,MAAMM,gBAAgBN,IAAIO,GAAG,CAACC,qBAAa;IAC3CR,IAAIS,cAAc,CAAC,IAAIC,sBAAc;IACrCV,IAAIW,GAAG,CAACC,IAAAA,qBAAY;IACpBZ,IAAIa,UAAU,CAAC;QACbC,QAAQR,cAAcC,GAAG,CAAS;QAClCQ,aAAa;IACf;IAEAC,cAAU,CAACC,GAAG,CAAC,CAAC,UAAU,EAAEX,cAAcC,GAAG,CAAC,QAAQ,CAAC,EAAE;IACzD,IAAID,cAAcC,GAAG,CAAC,SAAS;QAC7BP,IAAIkB,SAAS,CAAClB,IAAIO,GAAG,CAACY,kBAAM;IAC9B;IAEA,MAAMnB,IAAIoB,MAAM,CAACd,cAAcC,GAAG,CAAC,SAAS;QAC1Cc,QAAQJ,GAAG,CAAC,CAAC,wBAAwB,EAAEX,cAAcC,GAAG,CAAC,QAAQ,CAAC;QAClEc,QAAQJ,GAAG,CAAC,CAAC,SAAS,EAAEX,cAAcC,GAAG,CAAC,QAAQ,QAAQ,CAAC;IAC7D;AACF;AACAV"}